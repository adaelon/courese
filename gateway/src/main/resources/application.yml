spring:
  main:
    web-application-type: reactive
  cloud:
    loadbalancer:
      cache:
        enabled: true
        ttl: 10
        capacity: 256
        caffeine:
          spec: initialCapacity=500,expireAfterWrite=5s
    gateway:
      routes:
        - id: peer
          uri:
            lb://peerevaluation
          predicates:
            - Path=/courese/peerevaluation/**
          filters:
            - RewritePath=/courese/(?<segment>.*), /$\{segment}
        - id: work
          uri:
            lb://work
          predicates:
            - Path=/courese/work/**
          filters:
            - RewritePath=/courese/(?<segment>.*), /$\{segment}
        - id: auth
          uri:
            lb://auth-server
          predicates:
            - Path=/courese/auth/**
          filters:
            - RewritePath=/courese/auth/(?<segment>.*), /$\{segment}
        - id: course
          uri:
            lb://course
          predicates:
            - Path=/courese/course/**
          filters:
            - RewritePath=/courese/(?<segment>.*), /$\{segment}

        - id: admin_route
          uri:
            lb://renren-fast
          predicates:
            - Path=/api/**
          filters:
            - RewritePath=/api/(?<segment>.*), /renren-fast/$\{segment}



    nacos:
      discovery:
        server-addr: 192.168.133.1:8848




  application:
    name: gateway
server:
  port: 88
